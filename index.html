<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="description" content="SIGMA SISTEMA DE VENDAS" />
    <link rel="icon" type="image/png" href="img/sigma.png" />

    <link rel="stylesheet" href="css/style.css" />

    <title>PAINEL PRINCIAPL</title>
</head>

<body>
    <!--cabeçalho-->
    <header id="header">
        <!--icone money-->
        <div>
            <img id="imgMoney" src="img/simbolo-do-dolar.png" alt="imagem dolar" width="40px" />
        </div>

        <!--icone user-->
        <img id="imgLogin" src="img/perfil/sem-foto.png" alt="imagem usuario" width="40px" />
        <div id="NomeUser" class="NomeUsuario">
            <div>
                <p>NOME USUARIO</p>
            </div>
            <div><span>NIVEL USUARIO</span></div>
        </div>

        <!--dropdown admin-->
        <div class="dropdownUser">
            <img class="btnUser" id="dropdown-icon" src="img/downblack.svg" alt="" width="30px" />

            <div class="dropdown-content">
                <div><span class="btnAdminConfig">CONFIGURAÇÃO</span></div>
                <div><span class="btnAdminPerfil">PERFIL</span></div>
                <a href="">SAIR</a>
            </div>
        </div>
    </header>



    <menu>
        <nav id="nav">
            <button aria-label="Abrir Menu" id="btn-mobile" aria-haspopup="true" aria-controls="menu"
                aria-expanded="false">
                MENU<span id="hamburger"></span>
            </button>
            <!--botao menu-->
            <!--menu lateral-->
            <ul id="menu" role="menu">
                <li class="menulista"><a href="">HOME</a></li>
                <li class="menulista"><a href="">LOJA</a></li>

                <li class="CorSubMenu">
                    <div><span id="myBtn">CADASTROS</span></div>

                    <!--submenu-->
                    <div id="myDropdown" class="dropdown">
                        <ul>
                            <li><a href="/" class="submenu">USUÁRIOS</a></li>
                            <li><a href="/" class="submenu">FREQUÊNCIA</a></li>
                            <li><a href="/" class="submenu">GRUPOS</a></li>
                            <li><a href="/" class="submenu">ACESSOS</a></li>
                        </ul>
                    </div>
                </li>
                <!--dropdown submenu-->
                <script>

                    document.getElementById("myBtn").onclick = function () { MenuDropdown() };
                    function MenuDropdown() {
                        document.getElementById("myDropdown").classList.toggle("show");
                    }

                </script>

                <li class="menulista"><a href="/">CADASTRO</a></li>
            </ul>
        </nav>

        <!--botao menu hamburguer-->
        <script>
            const btnMobile = document.getElementById('btn-mobile'); // pega o elemento pelo id

            function toggleMenu(event) {
                if (event.type === 'touchstart') event.preventDefault(); // execulta o touch do android não executa o evento click
                const nav = document.getElementById('nav');
                nav.classList.toggle('active'); // toggle remove a classe 'active' se tiver adicina se não tiver
                const active = nav.classList.contains('active');
                event.currentTarget.setAttribute('aria-expanded', active);
                if (active) {
                    event.currentTarget.setAttribute('aria-label', 'Fechar Menu');
                } else {
                    event.currentTarget.setAttribute('aria-label', 'Abrir Menu');
                }
            }

            btnMobile.addEventListener('click', toggleMenu);
            btnMobile.addEventListener('touchstart', toggleMenu);
        </script>
    </menu>


    <!--formulario configurações-->

    <form action="" class="modalConfig">

        <div class="modal-title">
            <legend>EDITAR CONFIGURAÇÃO</legend>
        </div>

        <div>
            <img src="img/fechar.png" width="30px" class="imgFechar" />
        </div>

        <div class="block_1">

            <div class="divNome">
                <div class="labelNome"><label for="nome_sistema">NOME DO SISTEMA</label></div>
                <input id="nome_sistema" type="text" name="nome_sistema" placeholder="NOME DO SISTEMA" required />
            </div>


            <div class="divEmail">
                <div class="labelEmail"><label for="email_sistema">EMAIL DO SISTEMA</label></div>
                <input id="email_sistema" type="email" name="email_sistema" placeholder="EMAIL DO SISTEMA"
                    autocomplete="email" required />
            </div>


            <div class="divTelefone">
                <div class="labelTelefone"><label for="telefone_sistema">TEL. DO SISTEMA</label></div>
                <input id="telefone_sistema" type="text" name="telefone_sistema" placeholder="N° TELEFONE" required />
            </div>


            <div class="divRelatorio">
                <div class="labelRelatorio"><label for="">TIPO RELATORIO</label></div>
                <select class="form-control" name="tipo_rel">
                    <option value="PDF">PDF</option>
                    <option value="HTML">HTML</option>
                </select>
            </div>

        </div>

        <div class="block_4">

            <div class="divMensagem">
                <div class="labelMensagem"><label for="msg_bloqueio">MENSAGEM DE BLOQUEIO</label></div>
                <input type="text" name="msg_bloqueio" id="msg_bloqueio"
                    placeholder="Reguralize sua mensalidade, seu acesso ao sistema será bloqueado!" required />
            </div>

        </div>

        <div class="block_5">

            <div class="divDiasBlo">
                <div class="labelDiasBlo"><label for="dias_bloqueio">DIAS BLOQUEIO</label></div>
                <input id="dias_bloqueio" type="number" name="dias_bloqueio" placeholder value="3" required />
            </div>

            <div class="divTestarsis">
                <div class="labelTestarsis"><label for="">TESTAR SISTEMA</label></div>
                <select name="teste">
                    <option value="SIM">SIM</option>
                    <option value="NAO">NAO</option>
                </select>
            </div>

            <div class="divDiasTeste">
                <div class="labelDiasTeste"><label for="dias_teste">DIAS TESTE</label></div>
                <input id="dias_teste" type="number" name="dias_teste" placeholder value="3" required />
            </div>

            <div class="divToken">
                <div class="labelToken"><label>TOKEN API</label></div>
                <input type="text" name="token" id="token" placeholder="Token Whatsapp" required />
            </div>


        </div>

        <div class="block_2">

            <div class="divLogo">
                <div><label>LOGO (*PNG)</label></div>
                <input type="file" name="foto-logo" onChange="carregarImgLogo();" id="foto-logo" />
            </div>

            <div class="divIcone">
                <div><label>ICONE (*Png)</label></div>
                <input type="file" name="foto-icone" onChange="carregarImgIcone();" id="foto-icone" />
            </div>

            <div class="divLogoRel">
                <div><label>LOGO RELATORIO (*Jpg)</label></div>
                <input type="file" name="foto-logo-rel" onChange="carregarImgLogoRel();" id="foto-logo-rel" />
            </div>

        </div>


        <div class="block_3">

            <div class="divLogoImg">
                <img src="img/sigma.png" width="80px" id="target-logo" />
            </div>

            <div class="divIconeImg">
                <img src="img/sigma.png" width="80px" id="target-icone" />
            </div>

            <div class="divLogoRelImg">
                <img src="img/sigma.png" width="80px" id="target-logo-rel" />
            </div>

        </div>

        <div class="divSalvarConfig">
            <div id="btnSalvarConfig"><button type="submit">SALVAR</button></div>
        </div>

        <!-- botao icone dropdow header-->
        <script>
            const dropdownBtn = document.querySelector('.btnUser');
            const dropdownContent = document.querySelector('.dropdown-content');

            dropdownBtn.addEventListener('click', () => {
                dropdownContent.classList.toggle('show');
            });


            const dropdownIcon = document.getElementById("dropdown-icon");

            dropdownIcon.addEventListener("click", function () {
                dropdownIcon.classList.toggle("rotated");
            });
        </script>


        <!--botao configuração dropdown-->
        <script>
            const btnAdminConfig = document.querySelector('.btnAdminConfig');
            const modalConfig = document.querySelector('.modalConfig');

            btnAdminConfig.addEventListener('click', () => {
                modalConfig.classList.toggle('show');
            });
        </script>

        <!--botao icone formulario configuração-->
        <script>
            document.querySelector('.imgFechar').onclick = function () { imgFecharForm() };
            function imgFecharForm() {
                document.querySelector('.modalConfig').classList.toggle("show");
            }
        </script>


       <!--escript para fechar o formulario ao clicar no esc-->
        <script>
            // seleciona o formulário que você deseja controlar
            const meuElemento = document.querySelector('.modalConfig');// seleciona a classe do form
            
            function verificarClasseShow(meuElemento) 
            {
                if (meuElemento.classList.contains('show')) {
                    document.querySelector('.modalConfig').classList.toggle("show");
                } else {
                    
                }
            }

            // adiciona um evento de escuta de teclado ao documento
            document.addEventListener('keydown', (event) => {
                // verifica se a tecla "Esc" foi pressionada
                if (event.key === 'Escape') {
                    
                    verificarClasseShow(meuElemento); // chamada da função

                }
            });
        </script>

    </form>



</body>

</html>

<script>
    // escript para fechar o dropdwon e rotação do icone ao clicar
    // no botão configutação
    const dropdownBtnClose = document.querySelector('.btnAdminConfig');
    const dropdownContentClose = document.querySelector('.dropdown-content');

    dropdownBtnClose.addEventListener('click', () => {
        dropdownContentClose.classList.toggle('show');
    });


    const dropdownClose = document.querySelector('.btnAdminConfig');
    const dropdownIconClose = document.getElementById("dropdown-icon");

    dropdownClose.addEventListener("click", function () {
        dropdownIconClose.classList.toggle("rotated");
    });
</script>
